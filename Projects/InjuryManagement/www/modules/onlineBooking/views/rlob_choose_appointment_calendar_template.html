<ion-view title="Add Worker">
    <ion-nav-buttons>
        <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
    </ion-nav-buttons>
    <div class="bar bar-subheader">
        <button class="button button-clear button-positive" ng-click="backdescInjury()">
            Back
        </button>
        <h1 class="title">Booking</h1>
    </div>
    <ion-content class="padding has-header has-subheader">
        <ion-list>

            <label class="item item-input" >
                <span class="input-label span-input-color">Day</span>
                <input ng-required="true" type="date"

                       ng-model="selectedFilter.date" name="Date"  />

            </label>
            <label  class="item item-input item-select" ng-class="{'has-error':isSubmit && infor.Title.$invalid}">
                <span class="input-label span-input-color">Location</span>
                <select  ng-model="selectedFilter.locationSelected" ng-options="location.Site_name for location in locationsFilter" ng-change="updateAppoinmentsList()">
                    <option  value=""></option>
                </select>
                <i ng-class="{'icon ion-alert-circled error':isSubmit && infor.Title.$invalid}"></i>
            </label>
            <label class="item item-input item-select" ng-class="{'has-error':isSubmit && infor.Title.$invalid}">
                <span class="input-label span-input-color">Doctors</span>
                <select   ng-model="selectedFilter.doctorSelected" ng-options="doctor.NAME for doctor in doctorsFilter" ng-change="updateAppoinmentsList();">
                    <option  value=""></option>
                </select>
                <i ng-class="{'icon ion-alert-circled error':isSubmit && infor.Title.$invalid}"></i>
            </label>
            <div class="table-responsive" style="margin-top: 20px">
                <div ng-if="appointmentsFilter.length<=0" style="text-align: center">
                    <h4>No Results</h4>
                </div>
                <div ng-repeat="location in appointmentsFilter">
                        <div class="col-md-2" style="width: 800px">
                            <i class="fa fa-location-arrow fa-2x text-danger"></i>
                            <span class="text-primary" style="margin: 12px">{{location.SITE_NAME}}</span>
                        </div></br>
                        <div ng-repeat="doctor in location.DOCTOR_ITEMS">
                                    <div class="col-md-2" style="width: 1050px">
                                        <i class="fa fa-user-md fa-2x text-danger"></i>
                                        <span class="text-primary" style="margin: 12px">{{doctor.DOCTOR_NAME}}</span>
                                    </div>
                                    </br>
                                    <div class="col-md-10">
                                        <i class="fa fa-clock-o fa-2x text-danger" style="float: left;" ></i>
                                            <div class="col-md-10">
                                                    <div class="col-md-10" style="border-bottom: 1px solid #dcdcdc;margin-bottom: 10px">
                                                       <a ng-repeat="appointment in doctor.APPOINTMENT_ITEMS"
                                                           class="btn btn-sm blue filter-submit margin-bottom"
                                                           style="margin-left: 10px;margin-bottom: 10px; width: 70px"
                                                           ng-click="selectAppointmentCalendar(appointment,doctor.DOCTOR_NAME,location.SITE_NAME)">
                                                            {{ appointment.APPOINTMENT_TIME }}
                                                        </a>
                                                    </div>
                                            </div>
                                    </div>
                        </div>
                </div>
            </div>
        </ion-list>
    </ion-content>
</ion-view>