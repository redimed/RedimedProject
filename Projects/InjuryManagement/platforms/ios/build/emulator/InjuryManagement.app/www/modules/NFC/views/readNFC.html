<ion-view title="Read NFC Tag">
    <ion-nav-buttons side="left">
        <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
    </ion-nav-buttons>

        <ion-content class="padding has-header has-subheader">
            <ion-list>
                <div class="app">
                <p>NDEF Reader</p>
                <div id="messageDiv"></div>
                </div>

                <label class="item item-input item-select" ng-class="{'has-error':isSubmit && infor.Title.$invalid}">
                    <span class="input-label span-input-color">Title</span>
                    <input ng-required="true" type="text" ng-model="testData.data.Title" name="First_name" />
                </label>

                <label class="item item-input" ng-class="{'has-error':isSubmit && infor.First_name.$invalid}">
                    <span class="input-label span-input-color">First Name</span>
                    <input ng-required="true" type="text" ng-model="testData.data.First_name" name="First_name" />
                    <i ng-class="{'icon ion-alert-circled error col col-10':isSubmit && infor.First_name.$invalid}"></i>
                </label>

                <ion-scroll direction="y" class="list searchform" ng-hide="!worker.First_name || !isShow">
                    <a class="item itemsearch"
                       ng-repeat="result in list | filter:worker.First_name" ng-click="selectWorker(result.Patient_id)">
                        <h3 style="text-decoration: underline;">
                            {{ (result.Title == null ? '' : result.Title + " . ") +
                            (result.First_name == null ? '' : result.First_name) + " " +
                            (result.Middle_name == null ? '' : result.Middle_name) + " " +
                            (result.Sur_name == null ? '' : result.Sur_name) }}
                        </h3>
                        <h4 ng-hide="result.DOB == null">
                            <i class="fa fa-calendar"></i>
                            {{result.DOB | date:"dd/MM/yyyy"}}
                        </h4>
                        <h4 ng-hide="result.Mobile == null">
                            <i class="fa fa-phone"></i>
                            {{result.Mobile}}
                        </h4>
                    </a>
                </ion-scroll>

                <label class="item item-input" ng-class="{'has-error':isSubmit && infor.Sur_name.$invalid}">
                    <span class="input-label span-input-color">Sur Name</span>
                    <input ng-required="true" type="text" ng-model="testData.data.Sur_name" name="Sur_name" />
                    <i ng-class="{'icon ion-alert-circled error col col-10':isSubmit && infor.Sur_name.$invalid}"></i>
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">Middle Name</span>
                    <input type="text" ng-model="testData.data.Middle_name" name="Middle_name" />
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">Know as</span>
                    <input type="text" ng-model="testData.data.Known_as" name="Known_as" />
                </label>

                <!--<label class="item item-input">-->
                <!--<span class="input-label span-input-color">Maiden Name</span>-->
                <!--<input type="text" ng-model="worker.Maiden_name" name="Maiden_name" />-->
                <!--</label>-->

                <label class="item item-input" ng-class="{'has-error':isSubmit && infor.Address1.$invalid}">
                    <span class="input-label span-input-color">Address</span>
                    <input ng-required="true" type="text" ng-model="testData.data.Address1" name="Address1">
                    <i ng-class="{'icon ion-alert-circled error col col-10':isSubmit && infor.Address1.$invalid}"></i>
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">Address 2</span>
                    <input type="text" ng-model="testData.data.Address2" name="Address2">
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">Suburb</span>
                    <input type="text" ng-model="testData.data.Suburb" name="Suburb">
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">State</span>
                    <input type="text" ng-model="testData.data.State" name="State">
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">Country</span>
                    <input type="text" ng-model="testData.data.Country" name="Country">
                </label>

                <label class="item item-input" ng-class="{'has-error':isSubmit && infor.DOB.$invalid}">
                    <span class="input-label span-input-color">Birthday</span>
                    <input ng-required="true" type="date" ng-model="testData.data.DOB" name="DOB" />
                    <i ng-class="{'icon ion-alert-circled error col col-10':isSubmit && infor.DOB.$invalid}"></i>
                </label>

                <label class="item item-input " ng-class="{'has-error':isSubmit && infor.Sex.$invalid}">
                    <span class="input-label span-input-color">Sex</span>
                    <input ng-required="true" type="Sex" ng-model="testData.data.Sex" name="Sex" >
                </label>

                <label class="item item-input" ng-class="{'has-error':isSubmit && infor.Email.$invalid || isFailEmail}">
                    <span class="input-label span-input-color">Email</span>
                    <input ng-required="true" type="email" ng-model="testData.data.Email" name="Email">
                </label>

                <label class="item item-input" ng-class="{'has-error':isSubmit && infor.Mobile.$invalid || isFailMobile}">
                    <span class="input-label span-input-color">Mobile Phone</span>
                    <input ng-required="true" type="tel" ng-model="testData.data.Mobile" name="Mobile" ng-change="Checkfield(isMobile = true)">
                    <i ng-class="{'icon ion-alert-circled error col col-10':isSubmit && infor.Mobile.$invalid || isFailMobile}"></i>
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">Home Phone</span>
                    <input type="tel" ng-model="testData.data.Home_phone" name="Home_phone">
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">Work Phone</span>
                    <input type="tel" ng-model="testData.data.Work_phone" name="Work_phone">
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">Post Code</span>
                    <input type="number" ng-model="testData.data.Post_code" name="Post_code">
                </label>

                <label class="item item-input item-select">
                    <span class="input-label span-input-color">Account Type</span>
                    <select ng-model="testData.data.Account_type"
                            ng-options="row.Account_id as row.Account_name for row in accTypeIndex">
                        <option value="">--Select Type--</option>
                    </select>
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">Account Holder</span>
                    <textarea type="text" ng-model="testData.data.Account_holder" name="testData.data.Account_holder"></textarea>
                </label>

                <label class="item item-input" ng-class="{'has-error':isSubmit2 && main.Medicare_no.$invalid}">
                    <span class="input-label span-input-color">Medicare No</span>
                    <input ng-required="true" type="tel" ng-model="testData.data.Medicare_no" name="Medicare_no" >
                    <i ng-class="{'icon ion-alert-circled error col col-10':isSubmit2 && main.Medicare_no.$invalid}"></i>
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">Expire Medicare</span>
                    <input type="text" onfocus="this.type='date';
                    this.setAttribute('onfocus','');this.blur();
                    this.focus();" ng-model="testData.data.Exp_medicare" name="Exp_medicare" />
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">MemberShip No</span>
                    <input type="tel" ng-model="testData.data.MemberShip_no" name="MemberShip_no">
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">DVA No</span>
                    <input ng-model="testData.data.DVA_No" type="number" name="DVA_No">
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">HCC/Pension No</span>
                    <input ng-model="testData.data.HCC_Pension_No" type="number" name="HCC_Pension_No">
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">Expiry</span>
                    <input type="text" onfocus="this.type='date';
                    this.setAttribute('onfocus','');this.blur();
                    this.focus();" ng-model="testData.data.Exp_pension" name="Exp_pension" />
                </label>

                <div class="row" style="padding-left: 9px; padding-top: 0px; padding-right: 8px; width: 103%;">
                    <div class="col col-75" style="padding-top: 1px">
                        <label class="item item-input">
                            <span class="input-label span-input-color">Health Fund</span>
                            <select ng-model="testData.data.Private_fund_id"
                                    ng-options="row.PF_id as row.Fund_name for row in fundIndex">
                                <option value="">--Select Fund--</option>
                            </select>
                        </label>
                    </div>
                    <div class="col" style="padding-top: 1px">
                        <label class="item item-input" style="padding-bottom: 8px;">
                            <input type="tel" ng-model="testData.data.UPI" name="UPI" placeholder="UPI">
                        </label>
                    </div>
                </div>

                <label class="item item-input">
                    <span class="input-label span-input-color">Occupation</span>
                    <input type="text" ng-model="testData.data.Occupation" name="Occupation">
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">Partner's Name</span>
                    <input type="text" ng-model="testData.data.Partner_name" name="Partner_name">
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">Partner's DOB</span>
                    <input type="text" onfocus="this.type='date';
                    this.setAttribute('onfocus','');this.blur();
                    this.focus();" ng-model="testData.data.Partner_DOB" name="Partner_DOB" />
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">Partner's Occupation</span>
                    <input type="text" ng-model="testData.data.Partner_Occupation" name="Partner_Occupation">
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">Alias First Name</span>
                    <input type="text" ng-model="testData.data.Alias_First_name" name="Alias_First_name">
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">Alias Sur Name</span>
                    <input type="text" ng-model="testData.data.Alias_Sur_name" name="Alias_Sur_name">
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">UR No</span>
                    <input type="tel" ng-model="testData.data.UR_no" name="UR_no">
                </label>

                <label class="item item-input">
                    <span class="input-label span-input-color">Custom</span>
                    <input type="text" ng-model="testData.data.Custom" name="Custom">
                </label>


            </ion-list>
            <button class="button button-block button-positive" ng-click="updateWorker(testData)">Update Worker</button>
        </ion-content>

</ion-view>


