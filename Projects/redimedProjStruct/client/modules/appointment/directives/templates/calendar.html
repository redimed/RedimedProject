<div class="row">
	<!-- DATEPICKER -->
	<div class="col-md-4">
		<div class="form-group">
			<label>Datepicker</label>
			<input custom-date ng-model="appointment.search.datepicker" ng-change="appointment.load()" class="form-control">
		</div>
	</div>
	<!-- END DATEPICKER -->

	<!-- REDIMEDSITE -->
	<div class="col-md-4">
		<div class="form-group">
			<label>Redimed Site</label>
			<select ng-options="s.id as s.Site_name for s in site.list" ng-model="appointment.search.site_id"
				ng-change="appointment.load()" class="form-control">
			</select>
		</div>
	</div>
	<!-- END REDIMEDSITE -->

	<!-- CLINICAL DEPT -->
	<div class="col-md-4">
		<div class="form-group">
			<label>Clinical Dept</label>
			<select ng-options="c.CLINICAL_DEPT_ID as c.CLINICAL_DEPT_NAME for c in clinicalDept.list" 
				ng-model="appointment.search.clinical_dept_id"
				class="form-control"
				ng-change="appointment.load()">
				<option value="">All</option>
			</select>
		</div>
	</div>
	<!-- END CLINICAL DEPT -->
</div>

<div class="appointment">
	<div class="appointment-row" style="margin-bottom: 10px;">
		<div class="appointment-block-time"></div>
		<div class="appointment-block-header" ng-repeat="doctor in doctor.headers">
			{{doctor.NAME}}
		</div>
	</div>
	<div class="appointment-row" ng-repeat="app in appointment.list">
		<div class="appointment-block-time">{{app.FROM_TIME}}</div>
		<div class="appointment-block" ng-repeat="col in app.doctors" ng-class="{'block-active': col.PATIENTS !== '###'}"
			id="appointment-{{col.CAL_ID}}">
			<span ng-if="col.PATIENTS === 'MESS_SYS_010'">
				<a ng-click="appointment.dialog.add(app, col)">No Patient</a>
			</span>
			<span ng-if="col.PATIENTS === '###'">
				{{col.PATIENTS}}
			</span>
			<span ng-if="col.PATIENTS === 'ok'">
				<span ng-repeat="patient in col.patients">
					<a ng-click="goToAppDetail(col.CAL_ID, patient.Patient_id)">
						{{patient.First_name}} {{patient.Sur_name}}
					</a>
					<br>
				</span>
			</span>
		</div>
	</div>
</div> <!-- END APPOINTMENT -->

<script type="text/ng-template" id="appointmentAdd">
	<div class="modal-body">	
		<appointment-add params="appointment" patient="patient"></appointment-add>
	</div>
</script>

<script type="text/ng-template" id="patientAdd">
	<div class="modal-body">	
		<patient-detail options="options"></patient-detail>
	</div>
</script>

<script type="text/ng-template" id="patientList">
	<div class="modal-body">	
		<patient-search click-row="clickRow(row)"></patient-search>
	</div>
</script>

<script type="text/ng-template" id="notifyClaim">
    <div class="modal-body">
        <p>
        	Do you want to&nbsp;
        	<button class="btn btn-primary btn-xs" ng-click="addClaim()">Add</button> or&nbsp;
        	<button class="btn btn-primary btn-xs" ng-click="selectClaim()">Select</button> claim ?
        </p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-warning btn-xs" ng-click="cancel()">Cancel</button>
    </div>
 </script>

 <script type="text/ng-template" id="notifyReferral">
    <div class="modal-body">
        <p>
        	Do you want to&nbsp;
        	<button class="btn btn-primary btn-xs" ng-click="addReferral()">Add</button> or&nbsp;
        	<button class="btn btn-primary btn-xs" ng-click="selectReferral()">Select</button> Referral ?
        </p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-warning btn-xs" ng-click="cancel()">Cancel</button>
    </div>
 </script>

<script type="text/ng-template" id="claimAdd">
	<div class="modal-body">	
		<patient-claim params="params"></patient-claim>
	</div>
</script>

<script type="text/ng-template" id="claimSelect">
	<div class="modal-body">	
		<claim-patient-list limit="claim.limit" reload="claim.reload"></claim-patient-list>
	</div>
</script>

<script type="text/ng-template" id="referralAdd">
	<div class="modal-body">	
		<referral-detail></referral-detail>
	</div>
</script>

<script type="text/ng-template" id="referralSelect">
	<div class="modal-body">	
		<referral-search></referral-search>
	</div>
</script>