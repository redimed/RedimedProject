<style>
    .selected {
        background-color: #ffca87;
    }

</style>

<h3 class="page-title">Menu</h3>
<div class="page-bar">
    <ul class="page-breadcrumb">
        <li>
            <i class="fa fa-home"></i>
            <a ui-sref="loggedIn.home">Home</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a href="javascript:;">System</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a>Menu</a>
        </li>
    </ul>
</div>

<div class="portlet grey-cascade box">
    <div class="portlet-title">
        <div class="caption ">
            <i class="icon-list"></i>
            <span class="caption-subject uppercase"> Root Menus</span>
        </div>
        <div class="actions">
            <a href="javascript:;" ng-click="addNewMenu()" class="btn btn-circle green-jungle btn-sm">
                <i class="fa fa-plus"></i> Add New</a>
        </div>
    </div>
    <div class="portlet-body">

        <div class="table-scrollable" id="content">
            <table ng-table="tableParams"  show-filter="true" class="table table-bordered table-responsive">
                <tr ng-repeat="m in $data | orderBy:'MenuID'" ng-click="showChild(m)" ng-class="{selected : m.MenuID == selectedId}">
                    <td data-title="'Description'" sortable="'MenuDescription'" filter="{ 'MenuDescription': 'text' }">
                        <label >{{m.MenuDescription}}</label>
                    </td>
                    <td data-title="'Definition'" sortable="'MenuDefinition'" filter="{ 'MenuDefinition': 'text' }">
                        <label >{{m.MenuDefinition}}</label>
                    </td>
                    <td width="100px" data-title="'Type'" sortable="'MenuType'" filter="{ 'MenuType': 'text' }">
                        <label >{{m.MenuType}}</label>
                    </td>
                    <td align="center" width="100px" data-title="'Enable'" >
                        <label ng-if="m.MenuEnable===1" ><input  type="checkbox" disabled   checked /></label>
                        <label ng-if="m.MenuEnable!==1" ><input  type="checkbox" disabled  /></label>
                    </td>
                    <td align="center" data-title="'Actions'">
                        <a style="width: 75px" href="javascript:;" ng-click="editMenu(m)" class="btn btn-circle blue-steel btn-sm">
                            <i class="fa fa-pencil"></i> Edit </a>
                        <a style="width: 75px" href="javascript:;" ng-click="deleteRootMenu(m)" class="btn btn-circle red-flamingo btn-sm">
                            <i class="fa fa-times"></i> Delete </a>
                    </td>

                </tr>


            </table>
        </div>
        <br/>

    </div>

</div>

<!--Child Menu -->
<div class="portlet grey-cascade box" ng-if="selectedId != null">
    <div class="portlet-title">

        <!--<p><strong>Page:</strong> {{tableParams.page()}}-->
        <!--<p><strong>Count per page:</strong> {{tableParams.count()}}-->
        <div class="caption">
            <i class="icon-list "></i>
            <span class="caption-subject uppercase">{{childTitle}}</span>

        </div>

        <div>
            <div class="btn-group pull-right" ng-show="isSelected">
                <a href="javascript:;" ng-click="addNewSubMenu()"  class="btn green" >
                    Add New Menu &nbsp;&nbsp; <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    <div class="portlet-body">
        <div class="table-scrollable" >
            <table ng-table="tableParams2"  show-filter="true" class="table table-striped table-hover table-bordered table-responsive">
                <tr ng-repeat="m in $data | orderBy:'MenuID'">
                    <td data-title="'Description'" sortable="'MenuDescription'" filter="{ 'MenuDescription': 'text' }">
                        <label>{{m.MenuDescription}}</label>
                    </td>
                    <td data-title="'Function'">
                        <label >{{m.FunctionName}}</label>
                    </td>
                    <td width="100px" data-title="'Type'" sortable="'MenuType'" filter="{ 'MenuType': 'text' }">
                        <label >{{m.MenuType}}</label>
                    </td>
                    <td width="100px" data-title="'Enable'" >
                        <label ng-if="m.MenuEnable===1" ><input  class="form-control" type="checkbox" disabled   checked /></label>
                        <label ng-if="m.MenuEnable!==1" ><input  class="form-control" type="checkbox" disabled  /></label>
                    </td>
                    <td width="200px" data-title="'Actions'">
                        <a style="width:100px;" href="javascript:;" class="btn btn-primary"
                           ng-click="editSubMenu(m)">
                            Edit </a>
                    </td>

                </tr>


            </table>
        </div>
        <br/>
    </div>

</div>

