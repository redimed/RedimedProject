<div class="panel panel-primary">
	<div class="panel-heading">
		Casual Calendar
	</div>
	<div class="panel-body">
		<div class="form-group">
            <label class="control-label col-md-2 col-sm-3 col-xs-6">
                From Time
                <span class="required"> * </span>
            </label>
            <div class="col-md-4 col-sm-3 col-xs-6">
                <input placeholder="From Time" ng-model="objectMap.from_time" 
                	name="from_time" class="form-control" custom-date ng-change="getAppointments()">
            </div>
        </div>

        <div class="clearfix" style="margin: 10px 5px;"></div>


        <div class="row" ng-repeat="item in data">
 
            <div class="col-md-3" style="font-size: 14px;">
                <b>Date: </b>{{item.DATE}}<br>
                <button class="btn btn-sm" ng-click="timetable.add(item)">Add New</button>
                <button ng-if="item.list.length > 0" class="btn btn-sm btn-danger" ng-click="timetable.removeAllDay(item)">Delete All</button>
            </div>
            <div  class="col-md-9">
                <table class="table table-bordered">
                    <thead>
                        <th>From Time</th>
                        <th>To Time</th>
                        <th>Site</th>
                        <th>Service</th>
                        <th>Action</th>
                    </thead>
                    <tbody>
                        <tr ng-repeat="cal in item.list">
                            <td>
                                <input ng-model="cal.FROM_TIME" name="from_time" 
                                custom-timepicker style="width: 50px;" readonly 
                                ng-change="changeCalendar({'data':l})">
                            </td>
                            <td>
                                <input ng-model="cal.TO_TIME" name="from_time" 
                                custom-timepicker style="width: 50px;" readonly 
                                ng-change="changeCalendar({'data':l})">
                            </td>
                            <td>
                                <select ng-model="cal.SITE_ID"
                                    ng-options="site.id as site.Site_name for site in options.redimedsites">
                                </select>
                            </td>
                            <td>
                                <select ng-model="cal.SERVICE_ID"
                                    ng-change="changeCalendar({'data':l})"
                                    ng-options="service.SERVICE_ID as service.SERVICE_NAME 
                                        for service in options.clinical_depts">
                                    <option value="" selected disabled>Service</option>
                                </select>
                            </td>
                            <td>
                            	<a ng-show="!cal.CAL_ID" ng-click="timetable.addRowData(item, cal)">
                                    <i class="fa fa-plus"></i>
                                </a>

                                <a ng-show="cal.CAL_ID" ng-click="timetable.updateRow(item, cal)">
                                    <i class="fa fa-pencil"></i>
                                </a>

                                <a ng-click="timetable.remove({cal: cal, parentIndex: $parent.$index, index: $index })">
                                    <i class="fa fa-times"></i>
                                </a>
                                
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
          
        </table>
    </div>
</div>