<h2 id="demo1">REDiMED ISO SYSTEM</h2>
<div class="tree well">

    <script type="text/ng-template" id="nodes_renderer.html">
        <span>
                <i ng-if="node.nodes" class="fa fa-minus"></i>
                <i ng-if="node.NODE_TYPE==nodeType.folder" class="fa fa-folder-open"></i>
                <i ng-if="node.NODE_TYPE==nodeType.document" class="fa fa-leaf"></i>
                {{node.NODE_TYPE==nodeType.folder?node.DIRECTORY_NAME:node.DOC_NAME}}
                <!-- ____{{node.relativePath}} -->
        </span>
        <a ng-click="showTreeActionsMenuPopup(node);">actions </a>    
        
        <ul>
            <li ng-repeat="(key,node) in node.nodes" iso-notice-finish-render-directory-tree ng-include="'nodes_renderer.html'">
            </li>
        </ul>
    </script>

    <ul>
        <li ng-repeat="(key,node) in treeData"  ng-include="'nodes_renderer.html'">
        </li>
    </ul>

    
</div>


<div  id="iso-tree-actions-menu-popup" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">{{selectedTreeNode.NODE_TYPE==nodeType.folder?'Folder Actions':'File Actions'}}</h4>
            </div>
            <div class="modal-body">
                <button ng-show='selectedTreeNode.NODE_TYPE==nodeType.folder' 
                    type="button" 
                    class="btn btn-default"
                    ng-click="showTreeActionContentPopup(treeActions.createFolder.name);">Create Folder
                </button>
                <button ng-show='selectedTreeNode.NODE_TYPE==nodeType.folder' 
                    type="button" 
                    class="btn btn-default"
                    ng-click="showTreeActionContentPopup(treeActions.createDocument.name);">Create Document
                </button>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<div  id="iso-tree-action-content-popup" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Run</h4>
            </div>
            <div class="modal-body">
                <div ng-include='currentTreeAction.url'>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script type="text/ng-template" id="iso_create_folder_template.html">
    <form role="form">
        <div class="form-group">
            <label >Folder name:</label>
            <input type="text" ng-model="newFolder.folderName" class="form-control" placeholder="Folder name">
        </div>
        <div class="form-group">
            <label >Description:</label>
            <input type="text" ng-model="newFolder.description" class="form-control" placeholder="Description">
        </div>
        <button class="btn btn-default" ng-click="createFolder();">Create</button>
    </form>
</script>

<script type="text/ng-template" id="iso_create_document_template.html">
    <form role="form">
        <div class="form-group">
            <label >Document name:</label>
            <input type="text" ng-model="newDocument.docName" class="form-control" placeholder="Document name">
        </div>
        <div class="form-group">
            <label >Document code:</label>
            <input type="text" ng-model="newDocument.docCode" class="form-control" placeholder="Document code">
        </div>
        <div class="form-group">
            <label >Description:</label>
            <input type="text" ng-model="newDocument.description" class="form-control" placeholder="Description">
        </div>
        <button class="btn btn-default" ng-click="createDocument();">Create</button>
    </form>
</script>
