<form name="mrsForm" novalidate method="post">
    <div class="caption">
        <div class="row">
            <div class="col-md-12 col-sm-12">
                <button type="button"
                        ng-disabled="!infoChanged()"
                        ng-click="submit(mrsForm)" class="btn green pull-right">{{isNew?"Add new":"Update"}}
                </button>
                <a href="http://testapp.redimed.com.au:3003/RedimedJavaREST/api/document/mrs/{{info.mrs_id}}"
                   type="button"
                   ng-disabled="mrsForm.$error.pattern || mrsForm.$error.maxlength || mrsForm.$error.required || infoChanged() || isNew"
                   class="btn btn-primary blue pull-right">Print PDF
                </a>
                <button ng-disabled="!infoChanged()" ng-click="resetForm()" class="btn btn-danger pull-right">Reset
                </button>
            </div>
        </div>
    </div>

    <div class="caption">
        <div class="row">
            <div class="row">
                <div class="col-md-12 col-sm-12">
                    <p style="font-size: xx-large;font-weight: bolder;text-align: center;">Medical Summary</p>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12 col-sm-12">
            <div class="form-body">
                <div class="portlet-body form">
                    <div class="portlet box grey-cascade">
                        <div class="portlet-body form">
                            <div class="row">
                                <div class="col-md-12 col-sm-12">
                                    <div class="col-md-6 col-sm-6" style="margin-top: 10px;"
                                         ng-class="{'has-error':mrsForm.sticker_here.$error.maxlength}">
                                        <label class="control-label">Sticker Here:</label>
                                        <textarea class="form-control" ng-model="info.sticker_here" ng-maxlength="500"
                                                  name="sticker_here">
                                        </textarea>
                                        <label class="control-label help-block col-md-12 col-sm-12"
                                               ng-show="mrsForm.sticker_here.$error.maxlength">Too long!</label>
                                    </div>
                                    <div class="col-md-6 col-sm-6" style="margin-top:70px;">
                                        <div class="col-md-4 col-sm-4" style="width:auto; margin-top: 5px;">
                                            <label class="control-label">Proposed Occupation:</label>
                                        </div>
                                        <div class="col-md-8 col-sm-8">
                                            <input type="text" class="form-control" ng-model="info.proposed"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br/>

                            <div style="background-color: lightgrey; vertical-align: middle;width:auto;">
                                <div class="row">
                                    <div class="col-md-12 col-sm-12">
                                        <label class="control-label col-md-12 col-sm-12 bold">Assessment Summary</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12 col-sm-12">
                                    <div class="col-md-1 col-sm-1" style="text-align: center;margin-top: 10px;">
                                        <label class="control-label">Height</label>

                                        <div ng-class="{'has-error':mrsForm.as_height.$error.pattern}">
                                            <input type="text" class="form-control" ng-pattern="/^[0-9]+$/"
                                                   name="as_height" ng-model="info.as_height"/>
                                        </div>
                                    </div>
                                    <div class="col-md-1 col-sm-1"
                                         style="text-align:center; margin-top: 10px;">
                                        <label class="control-label">Weight</label>

                                        <div ng-class="{'has-error':mrsForm.as_weight.$error.pattern}">
                                            <input type="text" class="form-control" ng-pattern="/^[0-9]+$/"
                                                   name="as_weight"
                                                   ng-model="info.as_weight"/>
                                        </div>
                                    </div>
                                    <div class="col-md-1 col-sm-1"
                                         style="text-align:center;margin-top: 10px;;">
                                        <label class="control-label">
                                            WHR
                                        </label>

                                        <div ng-class="{'has-error':mrsForm.as_whr.$error.pattern}">
                                            <input type="text" class="form-control" ng-model="info.as_whr"
                                                   ng-pattern="/^[0-9]+$/" name="as_whr"/>
                                        </div>
                                    </div>
                                    <div class="col-md-1 col-sm-1"
                                         style="text-align:center; margin-top: 10px;">
                                        <label class="control-label">
                                            BMI
                                        </label>

                                        <div ng-class="{'has-error':mrsForm.as_bmi.$error.pattern}">
                                            <input type="text" class="form-control" ng-model="info.as_bmi"
                                                   ng-pattern="/^[0-9]+$/" name="as_bmi"/>
                                        </div>
                                    </div>
                                    <div class="col-md-8 col-sm-8" style="text-align:center; margin-top: 30px;">
                                        <div class="btn-group">
                                            <label class="btn">
                                                <input type="radio" ng-model="info.as_height_weight" ng-value="0"/>&nbsp;Underweight
                                            </label>
                                            <label class="btn">
                                                <input type="radio" ng-model="info.as_height_weight" ng-value="1"/>&nbsp;Normal
                                            </label>
                                            <label class="btn">
                                                <input type="radio" ng-model="info.as_height_weight" ng-value="2"/>&nbsp;Overweight
                                            </label>
                                            <label class="btn">
                                                <input type="radio" ng-model="info.as_height_weight" ng-value="3"/>&nbsp;Obese
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 col-sm-12 help-block"
                                     ng-show="mrsForm.as_bmi.$error.pattern || mrsForm.as_whr.$error.pattern || mrsForm.as_weight.$error.pattern || mrsForm.as_height.$error.pattern">
                                    <label class="col-md-12 col-sm-12" style="color: #8b0000;">Height/Weight/WHR/BMI
                                        must be number</label>
                                </div>
                            </div>

                            <hr>

                            <div class="portlet-body form">
                                <div class="row">
                                    <div class="col-md-6 col-sm-6">
                                        <div class="row">
                                            <div class="col-md-12 col-sm-12">
                                                <div class="col-md-6 col-sm-6">
                                                </div>
                                                <div class="col-md-6 col-sm-6" style="text-align:center;">
                                                    <label class="control-label bold">
                                                        Met Requirement
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-sm-6">
                                        <div class="row">
                                            <div class="col-md-12 col-sm-12">
                                                <div class="col-md-6 col-sm-6">

                                                </div>
                                                <div class="col-md-6 col-sm-6" style="text-align:center;">
                                                    <label class="control-label bold">
                                                        Met Requirement
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 col-sm-6">
                                        <div class="row">
                                            <div class="col-md-12 col-sm-12">
                                                <div class="col-md-6 col-sm-6">
                                                    <label class="control-label" style="margin-top:10px;">
                                                        Medical History
                                                    </label>
                                                </div>
                                                <div class="col-md-6 col-sm-6" style="text-align:center;">
                                                    <div class="btn-group">
                                                        <label class="btn">
                                                            <input type="radio" ng-model="info.as_medical_history"
                                                                   ng-value="1"/>&nbsp;Yes
                                                        </label>
                                                        <label class="btn">
                                                            <input type="radio" ng-model="info.as_medical_history"
                                                                   ng-value="0"/>&nbsp;No
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-sm-6">
                                        <div class="row">
                                            <div class="col-md-12 col-sm-12">
                                                <div class="col-md-6 col-sm-6" style="margin-top:10px;">
                                                    <label class="control-label">
                                                        Hearing Test
                                                    </label>
                                                </div>
                                                <div class="col-md-6 col-sm-6" style="text-align:center;">
                                                    <div class="btn-group">
                                                        <label class="btn">
                                                            <input type="radio" ng-model="info.as_hearing_test"
                                                                   ng-value="1"/>&nbsp;Yes
                                                        </label>
                                                        <label class="btn">
                                                            <input type="radio" ng-model="info.as_hearing_test"
                                                                   ng-value="0"/>&nbsp;No
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 col-sm-6">
                                        <div class="row">
                                            <div class="col-md-12 col-sm-12">
                                                <div class="col-md-6 col-sm-6">
                                                    <label class="control-label" style="margin-top:10px;">
                                                        Medical Assessment
                                                    </label>
                                                </div>
                                                <div class="col-md-6 col-sm-6" style="text-align:center;">
                                                    <div class="btn-group">
                                                        <label class="btn">
                                                            <input type="radio"
                                                                   ng-model="info.as_medical_assessment"
                                                                   ng-value="1"/>&nbsp;Yes
                                                        </label>
                                                        <label class="btn">
                                                            <input type="radio"
                                                                   ng-model="info.as_medical_assessment"
                                                                   ng-value="0"/>&nbsp;No
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-sm-6">
                                        <div class="row">
                                            <div class="col-md-12 col-sm-12">
                                                <div class="col-md-6 col-sm-6">
                                                    <label class="control-label" style="margin-top:10px;">
                                                        Spirometry
                                                    </label>
                                                </div>
                                                <div class="col-md-6 col-sm-6" style="text-align:center;">
                                                    <div class="btn-group">
                                                        <label class="btn">
                                                            <input type="radio" ng-model="info.as_spirometry"
                                                                   ng-value="1"/>&nbsp;Yes
                                                        </label>
                                                        <label class="btn">
                                                            <input type="radio" ng-model="info.as_spirometry"
                                                                   ng-value="0"/>&nbsp;No
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 col-sm-6">
                                        <div class="row">
                                            <div class="col-md-12 col-sm-12">
                                                <div class="col-md-6 col-sm-6" sss>
                                                    <label class="control-label" style="margin-top:10px;">
                                                        Functional Capacity Assessment
                                                    </label>
                                                </div>
                                                <div class="col-md-6 col-sm-6" style="text-align:center;">
                                                    <div class="btn-group">
                                                        <label class="btn">
                                                            <input type="radio"
                                                                   ng-model="info.as_functional_assessment"
                                                                   ng-value="1"/>&nbsp;Yes
                                                        </label>
                                                        <label class="btn">
                                                            <input type="radio"
                                                                   ng-model="info.as_functional_assessment"
                                                                   ng-value="0"/>&nbsp;No
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-sm-6">
                                        <div class="row">
                                            <div class="col-md-12 col-sm-12">
                                                <div class="col-md-6 col-sm-6">
                                                    <label class="control-label" style="margin-top:10px;">
                                                        Drug Test
                                                    </label>
                                                </div>
                                                <div class="col-md-6 col-sm-6" style="text-align:center;">
                                                    <div class="btn-group">
                                                        <label class="btn">
                                                            <input type="radio" ng-model="info.as_drug_test"
                                                                   ng-value="1"/>&nbsp;Yes
                                                        </label>
                                                        <label class="btn">
                                                            <input type="radio" ng-model="info.as_drug_test"
                                                                   ng-value="0"/>&nbsp;No
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 col-sm-6">
                                        <div class="row">
                                            <div class="col-md-12 col-sm-12">
                                                <div class="col-md-6 col-sm-6">
                                                    <label class="control-label" style="margin-top:10px;">
                                                        Other
                                                    </label>
                                                </div>
                                                <div class="col-md-6 col-sm-6" style="text-align:center;">
                                                    <div class="btn-group">
                                                        <label class="btn">
                                                            <input type="radio" ng-model="info.as_other"
                                                                   ng-value="1"/>&nbsp;Yes
                                                        </label>
                                                        <label class="btn">
                                                            <input type="radio" ng-model="info.as_other"
                                                                   ng-value="0"/>&nbsp;No
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-sm-6">
                                    </div>
                                </div>
                                <div style="background-color: lightgrey; vertical-align: middle;width:auto;">
                                    <div class="row">
                                        <div class="col-md-12 col-sm-12">
                                            <label class="control-label col-md-12 col-sm-12 bold">Active or Past
                                                Medical Conditions</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 col-sm-12">
                                        <div class="col-md-6 col-sm-6" style="margin-top:10px;">
                                            <label class="control-label">
                                                Does the candidate have any existing or active medical condition?
                                            </label>
                                        </div>
                                        <div class="col-md-6 col-sm-6">
                                            <div class="btn-group" style="text-align:center;">
                                                <label class="btn">
                                                    <input type="radio" ng-model="info.ac_any_existing_or_active"
                                                           ng-value="1"/>&nbsp;Yes
                                                </label>
                                                <label class="btn">
                                                    <input type="radio" ng-model="info.ac_any_existing_or_active"
                                                           ng-value="0"/>&nbsp;No
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 col-sm-12">
                                        <div class="col-md-6 col-sm-6" style="margin-top:10px;">
                                            <label class="control-label">
                                                Does the candidate have any history of overuse or repetitive strain
                                                injury?
                                            </label>
                                        </div>
                                        <div class="col-md-6 col-sm-6">
                                            <div class="btn-group" style="text-align:center;">
                                                <label class="btn">
                                                    <input type="radio" ng-model="info.ac_any_history"
                                                           ng-value="1"/>&nbsp;Yes
                                                </label>
                                                <label class="btn">
                                                    <input type="radio" ng-model="info.ac_any_history"
                                                           ng-value="0"/>&nbsp;No
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 col-sm-12">
                                        <div class="col-md-6 col-sm-6" style="margin-top:10px;">
                                            <label class="control-label">
                                                What is the candidate's cadiorvascular risk rating?
                                            </label>
                                        </div>
                                        <div class="col-md-6 col-sm-6">
                                            <div class="btn-group" style="text-align:center;">
                                                <label class="btn">
                                                    <input type="radio" ng-model="info.ac_cardiovascular"
                                                           ng-value="0"/>&nbsp;Low
                                                </label>
                                                <label class="btn">
                                                    <input type="radio" ng-model="info.ac_cardiovascular"
                                                           ng-value="1"/>&nbsp;Medium
                                                </label>
                                                <label class="btn">
                                                    <input type="radio" ng-model="info.ac_cardiovascular"
                                                           ng-value="2"/>&nbsp;High
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 col-sm-12">
                                        <div class="col-md-6 col-sm-6" style="margin-top:10px;">
                                            <label class="control-label">
                                                Does the candidate have any current or past work-related injuries or
                                                conditions?
                                            </label>
                                        </div>
                                        <div class="col-md-6 col-sm-6">
                                            <div class="btn-group" style="text-align:center;">
                                                <label class="btn">
                                                    <input type="radio"
                                                           ng-model="info.ac_any_current_or_work_related"
                                                           ng-value="1"/>&nbsp;Yes
                                                </label>
                                                <label class="btn">
                                                    <input type="radio"
                                                           ng-model="info.ac_any_current_or_work_related"
                                                           ng-value="0"/>&nbsp;No
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 col-sm-12">
                                        <div class="col-md-6 col-sm-6" style="margin-top:10px;">
                                            <label class="control-label">
                                                Does the candidate have any medical or functional impairment
                                                requires further assessment or management?
                                            </label>
                                        </div>
                                        <div class="col-md-6 col-sm-6">
                                            <div class="btn-group" style="text-align:center;">
                                                <label class="btn">
                                                    <input type="radio" ng-model="info.ac_any_medical_or_functional"
                                                           ng-value="1"/>&nbsp;Yes
                                                </label>
                                                <label class="btn">
                                                    <input type="radio" ng-model="info.ac_any_medical_or_functional"
                                                           ng-value="0"/>&nbsp;No
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 col-sm-12">
                                        <div class="col-md-6 col-sm-6" style="margin-top:10px;">
                                            <label class="control-label">
                                                Does the candidate have any diagnosed or previous mental health
                                                conditions?
                                            </label>
                                        </div>
                                        <div class="col-md-6 col-sm-6">
                                            <div class="btn-group" style="text-align:center;">
                                                <label class="btn">
                                                    <input type="radio" ng-model="info.ac_any_diagnosed_or_previous"
                                                           ng-value="1"/>&nbsp;Yes
                                                </label>
                                                <label class="btn">
                                                    <input type="radio" ng-model="info.ac_any_diagnosed_or_previous"
                                                           ng-value="0"/>&nbsp;No
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 col-sm-12">
                                        <div class="col-md-12 col-sm-12">
                                            <label class="control-label bold">
                                                Examiner Comments
                                            </label>
                                        </div>
                                        <div class="col-md-8 col-sm-8">
                                            <textarea class="form-control"
                                                      ng-model="info.ac_examiner_comment"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <br>

                                <div style="background-color: lightgrey; vertical-align: middle;width:auto;">
                                    <div class="row">
                                        <div class="col-md-12 col-sm-12">
                                            <label class="control-label col-md-12 col-sm-12 bold">Risk
                                                Rating</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 col-sm-12">
                                        <div class="col-md-3 col-sm-3" style="margin-top:10px;text-align:center;">
                                            <label class="control-label bold">
                                                GREEN
                                                <br>(Fit)
                                                <br>Low Risk
                                            </label>
                                        </div>
                                        <div class="col-md-1 col-sm-1">
                                            <input type="checkbox" class="form-control" ng-model="info.rr_screen"
                                                   ng-true-value="1" ng-false-value="0" ng-checked="info.rr_screen==1"/>
                                        </div>
                                        <div class="col-md-8 col-sm-8" style="margin-top:10px;">
                                            <label class="control-label">
                                                The candidate is currently fit for the proposed position
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-12 col-sm-12">
                                        <div class="col-md-3 col-sm-3" style="margin-top:10px;text-align:center;">
                                            <label class="control-label bold">
                                                AMBER
                                                <br>(Fit Condition)
                                                <br>Medium Risk
                                            </label>
                                        </div>
                                        <div class="col-md-1 col-sm-1">
                                            <input type="checkbox" class="form-control" ng-model="info.rr_amber"
                                                   ng-true-value="1" ng-false-value="0" ng-checked="info.rr_amber==1"/>
                                        </div>
                                        <div class="col-md-8 col-sm-8" style="margin-top:10px;">
                                            <label class="control-label">
                                                The candidate is fit to perform the proposed position: further
                                                discussion regarding the candidate's medical management with the
                                                CKJV Injury Management team is required. It is strongly recommended
                                                the below is addressed to minimise the risk of medical complications
                                                and/or injury:
                                            </label>

                                            <div ng-class="{'has-error':mrsForm.rr_amber_comment.$error.required}">
                                                <textarea class="form-control" ng-model="info.rr_amber_comment"
                                                          ng-required="info.rr_amber == 1"
                                                          name="rr_amber_comment"></textarea>
                                                <label class="control-label help-block"
                                                       ng-show="mrsForm.rr_amber_comment.$error.required">Required</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-12 col-sm-12">
                                        <div class="col-md-3 col-sm-3" style="margin-top:10px;text-align:center;">
                                            <label class="control-label bold">
                                                RED
                                                <br>(Unfit)
                                                <br>High Risk
                                            </label>
                                        </div>
                                        <div class="col-md-1 col-sm-1">
                                            <input type="checkbox" class="form-control" ng-model="info.rr_red"
                                                   ng-true-value="1" ng-false-value="0"
                                                   ng-checked="info.rr_red==1"/>
                                        </div>
                                        <div class="col-md-8 col-sm-8" style="margin-top:10px;">
                                            <label class="control-label">
                                                Candidate is currently not fit to perform the inherent requirements
                                                of the proposed occupation and is unlikely to be able to perform
                                                these requirements in the foreseeable future, due to:
                                            </label>

                                            <div ng-class="{'has-error':mrsForm.rr_red_comment.$error.required}">
                                                <textarea class="form-control" ng-model="info.rr_red_comment"
                                                          ng-required="info.rr_red == 1"
                                                          name="rr_red_comment"></textarea>
                                                <label class="control-label help-block"
                                                       ng-show="mrsForm.rr_red_comment.$error.required">Required</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-12 col-sm-12">
                                        <div class="col-md-8 col-sm-8" style="width:auto;margin-top:10px;">
                                            <label class="control-label bold uppercase">
                                                review required by injury management team?
                                            </label>
                                        </div>
                                        <div class="col-md-4 col-sm-4">
                                            <div class="btn-group">
                                                <label class="btn">
                                                    <input type="radio" ng-model="info.mrs_review"
                                                           ng-value="1"/>&nbsp;YES
                                                </label>
                                                <label class="btn">
                                                    <input type="radio" ng-model="info.mrs_review"
                                                           ng-value="0"/>&nbsp;NO
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br/>

                                <div class="row">
                                    <div class="col-md-12 col-sm-12">
                                        <div class="col-md-4 col-sm-4">
                                            <label class="control-label bold uppercase">
                                                Doctor:&nbsp;<span class="text-info">{{doctor.NAME}}</span>
                                            </label>
                                        </div>
                                        <div class="col-md-4 col-sm-4">
                                            <label class="control-label bold">
                                                Signature:
                                            </label>
                                        </div>
                                        <div class="col-md-4 col-sm-4">
                                            <div class="col-md-2 col-sm-2" style="margin-top:5px;">
                                                <label class="control-label bold">
                                                    Date:
                                                </label>
                                            </div>
                                            <div class="col-md-7 col-sm-7">
                                                <input type="text" class="form-control" name="DATE"
                                                       datepicker-popup="dd/MM/yyyy"
                                                       data-ng-model="info.mrs_doc_date"
                                                       is-open="openDOB1" ng-click="openDOB1 = true"
                                                       datepicker-options="dateOptions"
                                                       close-text="Close"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="cil-md-12 col-sm-12">
                                            <div class="col-md-4 col-sm-4">

                                            </div>
                                            <div class="col-md-8 col-sm-8">
                                                <img ng-src="{{doctor.Signature}}" alt=""
                                                     ng-show="doctor.Signature!=null && doctor.Signature!=''"
                                                     style="height: 70px; width: 200px;"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>