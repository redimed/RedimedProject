<form name="mhForm" method="post" novalidate>
    <div class="caption">
        <div class="row">
            <div class="col-md-12 col-sm-12">
                <button type="button"
                        ng-disabled="mhForm.$error.pattern || mhForm.$error.maxlength|| mhForm.$error.required
                    || !infoChanged()"
                        ng-click="submit(mhForm)" class="btn green pull-right">{{isNew?"Add new":"Update"}}
                </button>
                <a href="/api/document/printMH/{{info.headers[0].PATIENT_ID}}/{{info.headers[0].CAL_ID}}/{{info.headers[0].MH_DF_ID}}"
                   ng-disabled="mhForm.$error.pattern || mhForm.$error.maxlength|| mhForm.$error.required"
                   ng-click="print()" class="btn btn-primary blue pull-right">Print PDF
                </a>
                <button ng-disabled="!infoChanged()" ng-click="resetForm()" class="btn btn-danger pull-right">Reset
                </button>
            </div>
        </div>
    </div>
    <br/>

    <h1 style="text-align: center; font-weight: bold;">MEDICAL HISTORY</h1>

    <div class="row">
        <div class="col-md-12 col-sm-12">
            <div class="portlet box grey-cascade">
                <div class="portlet-body form">
                    <div class="row">
                        <div class="col-md-12 col-sm-12">
                            <div style="background-color: lightgrey; vertical-align: middle;">
                                <label class="control-label bold" style="margin-left: 10px">Personal Details</label>
                                <label class="control-label">(to be filled in by Patient)</label>
                            </div>
                        </div>
                    </div>

                    <div class="form-body">
                        <div class="row">
                            <div class="col-md-12 col-sm-12">
                                <div class="col-md-6 col-sm-6" style="margin-top: 10px;">
                                    <label class="control-label">Surname:&nbsp;<span class="text-info">{{info.patient.Sur_name}}</span>
                                    </label>
                                </div>
                                <div class="col-md-6 col-sm-6" style="margin-top: 10px;">
                                    <label class="control-label">Given Names:</label>
                                </div>
                            </div>
                        </div>
                        <hr/>
                        <div class="row">
                            <div class="col-md-12 col-sm-12">
                                <div class="col-md-3 col-sm-4">
                                    <label class="control-label">Date of
                                        birth:&nbsp;<span>{{info.patient.DOB|date:'dd/MM/yyyy'}}</span></label>
                                </div>
                                <div class="col-md-5 col-sm-5">
                                    <div class="btn-group" style="margin-left:25%;">
                                        <label class="btn">
                                            <input type="radio" name='check' ng-model="info.check" ng-value="0"
                                                   ng-checked="info.patient.Sex=='Male'"/> Male
                                        </label>
                                        <label class="btn">
                                            <input type="radio" name='check' ng-model="info.check" ng-value="1"
                                                   ng-checked="info.patient.Sex=='Female'"/> Female
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-3">
                                    <label class="control-label">Phone Extension:&nbsp;<span
                                            class="text-info">{{info.patient.Phone_ext}}</span></label>
                                </div>
                            </div>
                        </div>
                        <hr/>
                        <div class="row">
                            <div class="col-md-8 col-sm-8">
                                <label class="control-label" style="margin-left: 10px;">Home Address:&nbsp;<span
                                        class="text-info">{{info.patient.Address1 || info.patient.Address1}}</span></label>
                            </div>
                            <div class="col-md-4 col-sm-4">
                                <div class="col-md-12 col-sm-12">
                                    <label class="control-label">Home Phone:&nbsp;<span
                                            class="text-info">{{info.patient.Home_phone}}</span></label>
                                </div>
                                <div class="col-md-12 col-sm-12">
                                    <label class="control-label">Mobile:&nbsp;<span
                                            class="text-info">{{info.patient.Mobile}}</span></label>
                                </div>
                            </div>
                        </div>
                        <hr/>
                        <div class="row">
                            <div class="col-md-12 col-sm-12">
                                <div class="col-md-4 col-sm-5">
                                    <label class="control-label">Next of Kin/Emergency Contact:</label>
                                </div>
                                <div class="col-md-4 col-sm-4">
                                    <label class="control-label">Relationship:</label>
                                </div>
                                <div class="col-md-4 col-sm-3">
                                    <label class="control-label">Contact No (A/H):&nbsp;<span
                                            class="text-info">{{info.patient.Home_phone}}</span></label><br/>
                                    <label class="control-label">Contact No (W/H):&nbsp;<span
                                            class="text-info">{{info.patient.Work_phone}}</span></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr/>
                    <div class="row">
                        <div class="col-md-12 col-sm-12">
                            <div class="col-md-1 col-sm-2" style="margin-top: 10px;">
                                <label class="control-label bold">Address: </label>
                            </div>
                            <div class="col-md-2 col-sm-2" style="margin-top: 10px;">
                                <label class="control-label">As above</label>
                            </div>
                            <div class="col-md-1 col-sm-1">
                                <input type="checkbox" class="form-control" ng-true-value="1" ng-false-value="0"
                                       ng-model="info.asAbove"
                                       ng-change="checkAbove()"/>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 col-sm-12">
                            <div class="col-md-8 col-sm-8">
                                <textarea class="form-control" ng-model="info.Above"></textarea>
                            </div>
                        </div>
                    </div>
                    <br/>

                    <div class="row">
                        <div class="col-md-12 col-sm-12">
                            <div style="background-color: lightgrey; vertical-align: middle;">
                                <label class="control-label bold" style="margin-left: 10px">Declaration</label>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-md-12 col-sm-12">
                            <p>I declare that the above information is true and correct, and that if any of this
                                information changes, I will
                                inform my company immediately and update these details.</p>
                        </div>
                    </div>
                    <br/>

                    <div class="row">
                        <div class="col-md-12 col-sm-12">
                            <div class="col-md-4 col-sm-4">
                                <label class="control-label">Name:&nbsp;<span class="text-info">{{info.patient.Sur_name}}</span>
                                </label>
                            </div>
                            <div class="col-md-4 col-sm-4">
                                <label class="control-label">Sign:</label>
                                <img src="" ng-model="info.Sign"
                                     style="width:200px;height: 40px;"/>
                            </div>
                            <div class="col-md-3 col-sm-3">
                                <label class="control-label">Date:&nbsp;<span class="text-info">{{today|date:'dd/MM/yyyy'}}</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <br/>
                    <label class="control-label bold" style="margin-left: 10px">Release of Medical Information</label>

                    <div class="form-group">
                        <div class="col-md-12 col-sm-12">
                            <div class="col-md-1 col-sm-1" style="width: 5px;">
                                <label class="control-label">I,&nbsp;<span
                                        class="text-info">{{info.patient.Sur_name}},</span>&nbsp;DOB:&nbsp;<span
                                        class="text-info">{{info.patient.DOB|date:'dd/MM/yyyy'}}</span> </label>
                            </div>
                        </div>
                        <div class="col-md-12 col-sm-12">
                            <p>request to make available to the appropriate authorised management staff of my company,
                                any details from my
                                medical examination which may affect my suitablility for the position which I have
                                applied for.</p>
                        </div>
                        <br/>

                        <div class="col-md-12 col-sm-12">
                            <p>I understand that I will be tested for drugs as part of my Employment Medical Examination
                                and that it is in
                                my interests
                                to reveal any prescription drugs that I am taking.</p>
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-sm-12">
                                <div class="col-md-1 col-sm-1" style="width: auto;">
                                    <a href="javascript:;" class="btn green" style="margin-top: 10px;"
                                       ng-click="showSignature()">Sign</a>
                                </div>
                                <div class="col-md-10 col-sm-10"
                                     ng-show="info.Sign!=null && info.Sign!='' && !isSignature">
                                    <img src="" ng-src="{{info.Sign}}" alt=""
                                         style="width: 200px;height: 40px;margin-top: 10px;"/>
                                </div>
                            </div>
                        </div>
                        <br/>

                        <div class="row" style="text-align: left;margin-left: 10px;" ng-show="isSignature">
                            <div class="col-md-12 col-sm-12">
                                <canvas width="500" height="400" id="canvas"
                                        signature ng-model="info.Sign" style="background-color: #8eece8">
                                </canvas>
                            </div>
                            <div class="col-md-12 col-sm-12" style="margin-left: 340px;">
                                <div class="break-row"></div>
                                <div class="btn-group">
                                    <button type="button" ng-click="cancelClick()" class="btn btn-danger btn-sm">
                                        Cancel
                                    </button>
                                    <button type="button" ng-click="clearClick()" class="btn btn-warning btn-sm">Clear
                                    </button>
                                    <button type="button" ng-click="okClick()" class="btn green btn-sm">Ok</button>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12 col-sm-12">
                                <div class="col-md-1 col-sm-1" style="width: auto;">
                                    <label class="control-label">Date:</label>
                                </div>
                                <div class="col-md-3 col-sm-4">
                                    <input type="text" class="form-control col-md-12"
                                           datepicker-popup="dd/MM/yyyy" ng-model="info.Date"
                                           is-open="openDOB2" ng-click="openDOB2 = true"
                                           datepicker-options="dateOptions3"
                                           close-text="Close"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    <label class="control-label bold" style="margin-left: 10px">DECLARATION</label>

                    <div class="form-group">
                        <div class="col-md-12 col-sm-12">
                            <div class="col-md-12 col-sm-12" style="width: 5px;">
                                <label class="control-label">I,&nbsp;<span
                                        class="text-info">{{info.patient.Sur_name}},</span>&nbsp;DOB:&nbsp;<span
                                        class="text-info">{{info.patient.DOB|date:'dd/MM/yyyy'}}</span> </label>
                            </div>
                        </div>
                        <div class="col-md-12 col-sm-12">
                            <p>Declare that to the best of my knowledge the answers in this application are correct and
                                I understand that if
                                any false
                                or deliberately misleading information is given, or any material facts are withheld, I
                                will not be accepted,
                                or if I am
                                employed, my employment may be terminated.</p>
                        </div>
                        <br/>

                        <div class="col-md-12 col-sm-12">
                            <p>I authorise the examining doctor to release any information acquired from my medical
                                history, examination and
                                urine
                                drug screen to the appropriate management staff of my company.</p>
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-sm-12">
                                <div class="col-md-1 col-sm-1" style="width: auto;">
                                    <a href="javascript:;" class="btn green" ng-click="showSignature1()"
                                       ng-show="!isSignature1">Sign</a>
                                </div>
                                <div class="col-md-10 col-sm-10"
                                     ng-show="info.Declaration_sign!=null && info.Declaration_sign!='' && !isSignature1">
                                    <img src="" ng-src="{{info.Declaration_sign}}" alt=""
                                         style="width: 200px;height: 40px;"/>
                                </div>
                            </div>
                        </div>
                        <br/>

                        <div class="row" style="text-align: left;margin-left: 10px;" ng-show="isSignature1">
                            <div class="col-md-12 col-sm-12">
                                <canvas width="500" height="400" id="canvas1"
                                        signature ng-model="info.Declaration_sign" style="background-color: #8eece8">
                                </canvas>
                            </div>
                            <div class="col-md-12 col-sm-12" style="margin-left: 340px;">
                                <div class="break-row"></div>
                                <div class="btn-group">
                                    <button type="button" ng-click="cancelClick1()" class="btn btn-danger btn-sm">
                                        Cancel
                                    </button>
                                    <button type="button" ng-click="clearClick1()" class="btn btn-warning btn-sm">Clear
                                    </button>
                                    <button type="button" ng-click="okClick1()" class="btn green btn-sm">Ok</button>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-sm-12">
                                <div class="col-md-1 col-sm-1" style="width: auto;">
                                    <label class="control-label">Witness:</label>
                                </div>
                                <div ng-class="{'has-error': mhForm.Declaration_witness_sign.$error.maxlength}">
                                    <div class="col-md-3 col-sm-3">
                                        <input type="text" class="form-control" name="Declaration_witness_sign"
                                               ng-model="info.Declaration_witness_sign" ng-maxlength="100"/>

                                        <div class="help-block"
                                             ng-show="mhForm.Declaration_witness_sign.$error.maxlength">
                                            <label class="control-label">Too long</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br/>

                        <div class="row">
                            <div class="col-md-12 col-sm-12">
                                <div class="col-md-12 col-sm-12" style="width: auto;">
                                    <label class="control-label">Date:&nbsp;<span class="text-info">{{today|date:'dd/MM/yyyy'}}</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="caption">
                        <div class="row">
                            <div class="col-md-12 col-sm-12">
                                <h3 style="text-align: center;">
                                    Medical History/Questionnaire
                                </h3>

                                <h3 style="text-align: center;">
                                    (To be filled out prior to Doctors visit)
                                </h3>

                                <h3 style="text-align: center;font-weight: bolder;">
                                    Please answer the following as fully as possible.
                                </h3>
                            </div>
                        </div>
                    </div>
                    <div ng-repeat="(hIndex, header) in info.headers">
                        <div class="caption">
                            <div class="row">
                                <div class="col-md-12 col-sm-12">
                                    <!--begin input store headers-->
                                    <input type="hidden" ng-model="info.headers[hIndex].MH_DF_ID"/>
                                    <input type="hidden" ng-model="info.headers[hIndex].DF_CODE"/>
                                    <input type="hidden" ng-model="info.headers[hIndex].DESCRIPTION"/>
                                    <input type="hidden" ng-model="info.headers[hIndex].ISENABLE"/>
                                    <input type="hidden" ng-model="info.headers[hIndex].CREATED_BY"/>
                                    <input type="hidden" ng-model="info.headers[hIndex].Last_updated_by"/>
                                    <!--end input store headers-->
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12 col-sm-12">
                                <div class="portlet box grey-cascade" ng-repeat="(gIndex, group) in header.group">
                                    <div class="portlet-title">
                                        <div class="caption">
                                            <i class="fa fa-gift"></i> {{group.GROUP_NAME}}
                                        </div>
                                        <div class="tools">
                                            <a href="javascript:;" class="collapse">
                                            </a>
                                        </div>
                                    </div>
                                    <!--begin input save group-->
                                    <input type="hidden" ng-model="info.headers[hIndex].group[gIndex].GROUP_ID"/>
                                    <input type="hidden" ng-model="info.headers[hIndex].group[gIndex].MH_DF_ID"/>
                                    <input type="hidden" ng-model="info.headers[hIndex].group[gIndex].ORD"/>
                                    <input type="hidden" ng-model="info.headers[hIndex].group[gIndex].GROUP_NAME"/>
                                    <input type="hidden" ng-model="info.headers[hIndex].group[gIndex].ISENABLE"/>
                                    <input type="hidden" ng-model="info.headers[hIndex].group[gIndex].CREATED_BY"/>
                                    <input type="hidden" ng-model="info.headers[hIndex].group[gIndex].Last_updated_by"/>
                                    <input type="hidden" ng-model="info.headers[hIndex].group[gIndex].USER_TYPE"/>
                                    <!--end input save group-->

                                    <div class="portlet-body form" ng-repeat="(lIndex,line) in group.line">
                                        <ng-form name="lineForm">
                                            <!--begin input save line-->
                                            <input type="hidden"
                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].MH_LINE_ID"/>
                                            <input type="hidden"
                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].GROUP_ID"/>
                                            <input type="hidden"
                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].MH_DF_ID"/>
                                            <input type="hidden"
                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].ORD"/>
                                            <input type="hidden"
                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].QUESTION"/>
                                            <input type="hidden"
                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].ISCOMMENT_WHEN_YES"/>
                                            <input type="hidden"
                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].ISCOMMENT_WHEN_NO"/>
                                            <input type="hidden"
                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].ISDETAILS_ANSWER_ONLY"/>
                                            <input type="hidden"
                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].ISENABLE"/>
                                            <input type="hidden"
                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].CREATED_BY"/>
                                            <input type="hidden"
                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].Last_updated_by"/>
                                            <input type="hidden"
                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].ISDetails_Answer_IfYes"/>
                                            <!--end input save line-->

                                            <!--begin not subquestion-->
                                            <div ng-if="line.subquestion.length == 0">
                                                <div class="panel-heading">
                                                    <label class="control-label bold" style="text-align: left;">{{line.ORD
                                                        + ". " +
                                                        line.QUESTION}}</label>

                                                    <div class="row">
                                                        <div class="clo-md-12">
                                                            <div class="col-md-1 col-sm-2"
                                                                 style="margin-top: 5px;width: auto;">
                                                                <label class="control-label">Answer:</label>
                                                            </div>
                                                            <div class="col-md-4 col-sm-4">
                                                                <div class="btn-group">
                                                                    <label class="btn">
                                                                        <input type="radio"
                                                                               ng-model="info.headers[hIndex].group[gIndex].line[lIndex].YES_NO"
                                                                               ng-value="1"/>
                                                                        Yes
                                                                    </label>
                                                                    <label class="btn">
                                                                        <input type="radio"
                                                                               ng-model="info.headers[hIndex].group[gIndex].line[lIndex].YES_NO"
                                                                               ng-value="0"/>
                                                                        No
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-1 col-sm-2"
                                                             style="width: auto;margin-top: 5px;">
                                                            <label class="control-label"><span
                                                                    ng-show="info.headers[hIndex].group[gIndex].line[lIndex].YES_NO">*</span>Comment:</label>
                                                        </div>
                                                        <div class="col-md-5 col-sm-5">
                                                            <div ng-class="{'has-error': lineForm.Comments.$error.required || lineForm.Comments.$error.maxlength}">
                                                                <input type="text" class="form-control" name="Comments"
                                                                       ng-model="info.headers[hIndex].group[gIndex].line[lIndex].Comments"
                                                                       ng-required="(info.headers[hIndex].group[gIndex].line[lIndex].YES_NO &&
                    info.headers[hIndex].group[gIndex].line[lIndex].ISCOMMENT_WHEN_YES) ||
                    (!info.headers[hIndex].group[gIndex].line[lIndex].YES_NO &&
                    info.headers[hIndex].group[gIndex].line[lIndex].ISCOMMENT_WHEN_NO
                    )" ng-maxlength="200"/>

                                                                <div ng-show="lineForm.Comments.$error.required">
                                                                    <label class="help-block">Required!</label>
                                                                </div>
                                                                <div ng-show="lineForm.Comments.$error.maxlength">
                                                                    <label class="help-block">Comment too long!</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--end line not subquestion-->

                                            <!--begin line has subquestion-->
                                            <div ng-if="line.subquestion.length != 0">
                                                <div class="panel-heading">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <label class="control-label bold" style="text-align: left;">{{line.ORD
                                                                + ". " +
                                                                line.QUESTION}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row" ng-if="line.ISDetails_Answer_IfYes">
                                                        <div class="col-md-12">
                                                            <div class="col-md-1 col-sm-2"
                                                                 style="margin-top: 5px;width: auto;">
                                                                <label class="control-label">Answer:</label>
                                                            </div>
                                                            <div class="col-md-4 col-sm-4">
                                                                <div class="btn-group">
                                                                    <label class="btn">
                                                                        <input type="radio"
                                                                               ng-model="info.headers[hIndex].group[gIndex].line[lIndex].YES_NO"
                                                                               ng-value="1"/>
                                                                        Yes
                                                                    </label>
                                                                    <label class="btn">
                                                                        <input type="radio"
                                                                               ng-model="info.headers[hIndex].group[gIndex].line[lIndex].YES_NO"
                                                                               ng-value="0"/>
                                                                        No
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--end line has subquestion-->

                                            <!--begin input save subquestion-->
                                            <div class="panel panel-default" style="width: 95%;margin-left: 20px;"
                                                 ng-if="line.subquestion.length != 0">
                                                <div class="panel-body">
                                                    <div ng-repeat="(sIndex,subquestion) in line.subquestion">
                                                        <ng-form name="subForm">
                                                            <input type="hidden"
                                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].subquestion[sIndex].MH_LINE_SUB_ID"/>
                                                            <input type="hidden"
                                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].subquestion[sIndex].MH_LINE_ID"/>
                                                            <input type="hidden"
                                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].subquestion[sIndex].ORD"/>
                                                            <input type="hidden"
                                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].subquestion[sIndex].QUESTION"/>
                                                            <input type="hidden"
                                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].subquestion[sIndex].ISCOMMENT_WHEN_YES"/>
                                                            <input type="hidden"
                                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].subquestion[sIndex].ISCOMMENT_WHEN_NO"/>
                                                            <input type="hidden"
                                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].subquestion[sIndex].ISENABLE"/>
                                                            <input type="hidden"
                                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].subquestion[sIndex].CREATED_BY"/>
                                                            <input type="hidden"
                                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].subquestion[sIndex].Last_updated_by"/>
                                                            <!--end input save subquestion-->
                                                            <div class="row">
                                                                <div class="col-md-12">
                                                                    <div class="col-md-12">
                                                                        <label class="control-label bold"
                                                                               style="margin-top: 10px;text-align: left;">{{line.ORD
                                                                            +
                                                                            ". " +
                                                                            subquestion.ORD + ". "
                                                                            + subquestion.QUESTION}}</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-12 col-sm-12">
                                                                    <div class="col-md-1 col-sm-2"
                                                                         style="margin-top: 5px;width: auto;">
                                                                        <label class="control-label"><span
                                                                                ng-show="info.headers[hIndex].group[gIndex].line[lIndex].ISDetails_Answer_IfYes &&
                            info.headers[hIndex].group[gIndex].line[lIndex].YES_NO">*</span>Answer:</label>
                                                                    </div>
                                                                    <div class="col-md-4 col-sm-4">
                                                                        <div class="btn-group">
                                                                            <label class="btn">
                                                                                <input type="radio"
                                                                                       ng-model="info.headers[hIndex].group[gIndex].line[lIndex].subquestion[sIndex].YES_NO"
                                                                                       ng-value="1"/> Yes
                                                                            </label>
                                                                            <label class="btn">
                                                                                <input type="radio"
                                                                                       ng-model="info.headers[hIndex].group[gIndex].line[lIndex].subquestion[sIndex].YES_NO"
                                                                                       ng-value="0"/> No
                                                                            </label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-12">
                                                                    <div class="col-md-1 col-sm-2"
                                                                         style="width: auto;margin-top: 10px;">
                                                                        <label class="control-label"><span
                                                                                ng-show="info.headers[hIndex].group[gIndex].line[lIndex].subquestion[sIndex].YES_NO">*</span>Comment:</label>
                                                                    </div>
                                                                    <div class="col-md-5 col-sm-5">
                                                                        <div ng-class="{'has-error': subForm.Comments.$error.required ||
                    subForm.Comments.$error.maxlength}">
                                                                            <input type="text" class="form-control"
                                                                                   name="Comments"
                                                                                   ng-model="info.headers[hIndex].group[gIndex].line[lIndex].subquestion[sIndex].Comments"
                                                                                   ng-required="(info.headers[hIndex].group[gIndex].line[lIndex].subquestion[sIndex].YES_NO &&
                               info.headers[hIndex].group[gIndex].line[lIndex].subquestion[sIndex].ISCOMMENT_WHEN_YES) ||
                               (!info.headers[hIndex].group[gIndex].line[lIndex].subquestion[sIndex].YES_NO &&
                               info.headers[hIndex].group[gIndex].line[lIndex].subquestion[sIndex].ISCOMMENT_WHEN_NO)"
                                                                                   ng-maxlength="200"/>

                                                                            <div ng-show="subForm.Comments.$error.required">
                                                                                <label class="control-label">Required!</label>
                                                                            </div>
                                                                            <div ng-show="subForm.Comments.$error.maxlength">
                                                                                <label class="control-label">Comment too
                                                                                    long!</label>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </ng-form>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--end subquestion-->
                                            <div ng-if="line.line_id !==group.line[group.line.length - 1].line_id">
                                                <hr/>
                                            </div>
                                            <div ng-if="line.line_id === group.line[group.line.length - 1].line_id">
                                                <br/>
                                            </div>
                                        </ng-form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="portlet box grey-cascade">
        <div class="portlet-body form">
            <br/>

            <div class="row">
                <div class="col-md-12">
                    <div class="col-md-12 col-sm-12">
                        <p style="font-weight: bold; margin-left: 10px;"><u>Statement</u></p>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <div class="col-md-12 col-sm-12">
                        <p style="font-weight: bold; text-align: left; margin-left: 10px;">Section 79 of the Western
                            Australian
                            Workers' Compensation and Injury Management Act 1981
                            gives an arbitrator discretion to refuse to award compensation which would otherwise be
                            payable
                            where it is proved that the worker has, at the time of seeking or entering employment in
                            respect
                            of
                            which he claims compensation for an injury, wilfully and falsely represented himself as not
                            having
                            previously suffered from the injury.</p>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <div class="col-md-12 col-sm-12">
                        <p style="text-align: left; margin-left: 10px;">I have read the above statements. The answers
                            are
                            correct,
                            and no information concerning my present or
                            past health has been withheld.</p>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 col-sm-12">
                    <div class="col-md-12 col-sm-12" style="width: auto; margin-top: 5px;">
                        <label class="control-label">Name:&nbsp;<span class="text-info">{{info.patient.Sur_name}}</span>
                        </label>
                    </div>
                </div>
            </div>
            <br/>

            <div class="row">
                <div class="col-md-12 col-sm-12">
                    <div class="col-md-1 col-sm-1" style="width: auto;">
                        <a href="javascript:;" class="btn green" ng-click="showSignature2()"
                           ng-show="!isSignature2">Sign</a>
                    </div>
                    <div class="col-md-10 col-sm-10"
                         ng-show="info.Statement_sign!=null && info.Statement_sign!='' && !isSignature2">
                        <img src="" ng-src="{{info.Statement_sign}}" alt=""
                             style="width: 200px;height: 40px;"/>
                    </div>
                </div>
            </div>
            <br/>

            <div class="row" style="text-align: left;margin-left: 10px;" ng-show="isSignature2">
                <div class="col-md-12 col-sm-12">
                    <canvas width="500" height="400" id="canvas2"
                            signature ng-model="info.Statement_sign" style="background-color: #8eece8">
                    </canvas>
                </div>
                <div class="col-md-12 col-sm-12" style="margin-left: 340px;">
                    <div class="break-row"></div>
                    <div class="btn-group">
                        <button type="button" ng-click="cancelClick2()" class="btn btn-danger btn-sm">
                            Cancel
                        </button>
                        <button type="button" ng-click="clearClick2()" class="btn btn-warning btn-sm">Clear
                        </button>
                        <button type="button" ng-click="okClick2()" class="btn green btn-sm">Ok</button>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12 col-sm-12">
                    <div class="col-md-1 col-sm-1" style="width: auto;margin-top: 5px;">
                        <label class="control-label">Date:</label>
                    </div>
                    <div class="col-md-3 col-sm-3">
                        <input type="text" class="form-control col-md-12"
                               datepicker-popup="dd/MM/yyyy" ng-model="info.Statement_Date"
                               is-open="openDOB4" ng-click="openDOB4 = true"
                               datepicker-options="dateOptions3"
                               close-text="Close"/>
                    </div>
                </div>
            </div>
            <br/>
        </div>
    </div>
</form>



