<div class="panel-body">
    <form method="POST" class="grid-form" name="viewTask">
        <!-- MAIN INFO -->
        <fieldset>
            <legend>Review
                <a class="btn red pull-right btn-xs" ng-click="onCancel({return: true})">x</a>
            </legend>
            <!-- INFORMATION -->
            <div data-row-span="10">
                <div data-field-span="2">
                    EMPLOYEE CODE:&nbsp;<span class="text-info" style="font-size:13px;">{{list.result[0].Employee_Code}}</span>
                </div>
                <div data-field-span="2">
                    EMPLOYEE NAME: &nbsp;<span class="text-info" style="font-size:13px;">{{employee_name}}</span>
                </div>
                <div data-field-span="2">
                    TOTAL TIME CHARGE:&nbsp;<span class="text-info" style="font-size:13px;">{{(list.result[0].chargeWeek===null || list.result[0].chargeWeek=="")?"0":list.result[0].chargeWeek}}</span>
                </div>
                <div data-field-span="2">
                    DATE SUBMITED: &nbsp;<span class="text-info" style="font-size:13px;">{{(list.result[0].approved_date===null ||list.result[0].approved_date==="")?"":list.result[0].spentWeek | date: "dd/MM/yyyy"}}</span>
                </div>
                <div data-field-span="2">
                    WEEK NO:&nbsp;<span class="text-info" style="font-size:13px;">{{list.result[0].week_no}}</span>
                </div>
            </div>
            <!-- END INFORMATION -->
            <!-- TABLE TASK OF WEEK-->
            <div data-row-span="12">
                <div class="panel-body table-dynamic">
                    <center ng-show="list.loading"><i class="fa fa-spinner fa-spin fa-3x"></i>
                    </center>
                    <table class="responsive table table-bordered" ng-show="!list.loading">
                        <thead ng-show="list.result!==null">
                            <tr>
                                <th>
                                    <div class="th">
                                        Date Of Week
                                    </div>
                                </th>

                                <th>
                                    <div class="th">
                                        Activity
                                    </div>
                                </th>
                                <th>
                                    <div class="th">
                                        Dept name
                                    </div>
                                </th>
                                <th>
                                    <div class="th">
                                        Time charge
                                    </div>
                                </th>
                                <th>
                                    <div class="th">
                                        Task
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="l in list.result " ng-class-odd="'odd'" style="cursor: pointer; " ng-click="goToListNode(l.GROUP_ID)">
                                <td class="btn btn-xs">{{l.date | date: "dd/MM/yyyy"}}</td>
                                <td class="btn btn-xs" style="text-align:left;">{{l.NAME}}</td>
                                <td class="btn btn-xs">{{l.departmentName}}</td>
                                <td class="btn btn-xs">{{(l.time_charge===null || l.time_charge==="")?"0 Hours": l.time_charge+" Hours"}}</td>
                                <td class="btn btn-xs">{{(l.task===""||l.task===null)?"":l.task}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- SHOW REJECT -->
            <div data-row-span="12" ng-show="(info.isReject===true || info.hasReject===true) && info.isApprove!==true">
                <div data-field-span="12">
                    <label>Comments(*)</label>
                    <textarea id="commentsID" name="comments" ng-model="info.comments" style="font-size:13px;" ng-required="true" custom-tr="info.comments" custom-fr="viewTask.comments"></textarea>
                </div>
            </div>
            <!-- END REJECT -->

            <!-- APPROVE -->
            <div data-row-span="12" ng-show="info.isApprove===true">
                <span style="margin-top:20px; font-size:13px;">Employee's remaining <span class="text-info bold">{{info.time_rest}} hours</span> , Please choose time type(*)</span>
                <input type="number" name="TimeInLieu" style="width:50px;margin-top:5px; font-size:13px;border:1px solid #ccc; text-align:center;" ng-model="info.time_in_lieu" ng-required="true" min="0" max="{{info.time_rest}}" ng-change="changeTimeInLieu()" custom-tr="info.time_in_lieu" custom-fr="viewTask.TimeInLieu">
                <label class="control-label" style="font-size:13px;">
                    TIME IN LIEU</label>
                <label class="control-label" style="font-size:13px;">
                    <input type="number" name="OverTime" style="width:50px;margin-top:5px;font-size:13px; border:1px solid #ccc; text-align:center;" ng-required="true" ng-model="info.over_time" min="0" max="{{info.time_rest}}" custom-tr="info.over_time" custom-fr="viewTask.OverTime" ng-change="changeTimeOver()">OVER TIME</label>
            </div>
            <!-- END APPROVE -->

            <!-- END TABLE TASK OF WEEK -->
        </fieldset>
        <!-- BUTTON -->
        <a class="btn blue pull-right btn-xs" ng-click="onApprove({return: info})" ng-hide="info.isReject===true" ng-disabled="(viewTask.TimeInLieu.$error.required || viewTask.OverTime.$error.required) && info.isApprove===true">Approve</a>
        <a class="btn red pull-right btn-xs" ng-click="onReject({return: info})" ng-disabled="(info.isReject===true && viewTask.comments.$error.required) ||(info.isReject===true && viewTask.comments.$error.maxlength)" ng-hide="info.isApprove===true">Reject</a>
        <!-- END BUTTON -->
        <!-- END MAIN INFO -->
    </form>
</div>
