<div class="panel-body">
    <form method="POST" class="grid-form" name="formItemCode" accessibleForm>
        <!-- MAIN INFO -->
        <fieldset>
            <legend>Choose Tasks / Items
            </legend>
            <!-- LOCATION - DEPARTMENT -->
            <!-- LOCATION -->
            <div class="row" style="margin-top:-20px;">
                <div class="col-md-5">
                </div>
                <div class="col-md-7">
                    <div style="margin-left:500px;">
                        <div class="col-md-4" style="text-align:right;">
                            <label>Location:</label>
                        </div>
                        <div class="col-md-8" style="text-align:left;">
                            <label class="text-info">{{(locationName===undefined || locationName ===null || locationName==='')?"N/A":locationName}}</label>
                        </div>
                    </div>
                </div>
            </div>
            <!-- END -->
            <!-- DEPARTMENT -->
            <div class="row" style="margin-top:-10px;">
                <div class="col-md-5">
                </div>
                <div class="col-md-7">
                    <div style="margin-left:500px;">
                        <div class="col-md-4" style="text-align:right;">
                            <label>Department:</label>
                        </div>
                        <div class="col-md-8" style="text-align:left;">
                            <label class="text-info">{{(departmentName===undefined || departmentName==='' || departmentName===null)?"N/A":departmentName}}</label>
                        </div>
                    </div>
                </div>
            </div>
            <!-- END DEPT-->
            <!-- END -->
            <!-- TABLE ITEM BEEN SELECTED-->
            <div data-row-span="12">
                <div class="panel-body table-dynamic">
                    <center ng-show="list.loading"><i class="fa fa-spinner fa-spin fa-3x"></i>
                    </center>
                    <span class="bold" style="margin-left:3px;font-size:13px;">Selected Tasks / Items<span>
                    <table class="responsive table table-bordered" ng-show="!list.loading">
                        <thead ng-show="list.result!==null">
                            <tr>
                                <th style="background-color:#26a69a;width:10%;">
                                    <div class="th">
                                        Tasks / Items
                                    </div>
                                </th>
                                <th style="background-color:#26a69a; width:30%;">
                                    <div class="th">
                                        Description
                                    </div>
                                </th>
                                <th style="background-color:#26a69a;width:8%;">
                                    <div class="th">
                                        Time Charge
                                    </div>
                                </th>
                                <th style="background-color:#26a69a;width:8%;">
                                    <div class="th">
                                        Actual Unit
                                    </div>
                                </th>
                                <th style="background-color:#26a69a;width:auto;">
                                    <div class="th">
                                        Comments
                                    </div>
                                </th>
                                <th style="background-color:#26a69a; width:2%;">
                                    <div class="th">
                                    </div>
                                </th>
                                <th style="background-color:#26a69a;width:2%;">
                                    <div class="th">
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-class-odd="'odd'" style="cursor: pointer; font-size:13px;" ng-repeat="(indexItem,item) in items">
                                <td ng-show="item.show===true" style="width:10%; text-align:center;">{{($index>8)?$index+1:"0"+($index+1)}}
                                </td>
                                <!-- MORE -->
                                <td ng-show="item.show===true" style="border:1px solid #ccc; text-align:left; width:30%;" ng-if="(item.ITEM_NAME | readMoreSelected).check===true">
                                    <div ng-show="item.show===true" ng-if="item.status===false">
                                        {{(item.ITEM_NAME | readMoreSelected).value}}<a ng-click="clickShowSelected($index)">&nbsp;&nbsp;More...</a>
                                    </div>
                                    <div ng-show="item.show===true" ng-if="item.status===true">
                                        {{item.ITEM_NAME}}<a ng-click="clickShowSelected($index)">&nbsp;Close</a>
                                    </div>
                                </td>
                                <td ng-show="item.show===true" style="border:1px solid #ccc; text-align:left; width:30%;" ng-if="(item.ITEM_NAME | readMoreSelected).check===false">
                                    {{(item.ITEM_NAME | readMoreSelected).value}}
                                </td>
                                <!-- END MORE -->
                                <td ng-show="item.show===true" style="text-align:center;width:8%;">
                                    <div ng-class="{'error-input':items[$index].time_charge==='' || items[$index].time_charge ===null || items[$index].time_charge===undefined}">
                                        <!-- TIME CHARGE NORMAL -->
                                        <input type="text" tabindex="4" class="input-sm" ng-model="items[$index].time_charge" ui-mask="99:99" name="time_charge" ng-required="item.show===true" style="font-size:13px;border:1px solid #ccc;text-align:center;height:25px;" id="time_chargeID" time-charge ng-disabled="item.ITEM_ID===18">
                                        <!-- END -->
                                    </div>
                                </td>
                                <td ng-show="item.show===true" style="text-align:center;width:8%;">
                                        <input type="text" tabindex="4" class="input-sm" name="ratio" ng-model="items[$index].ratio" style="font-size:13px;border:1px solid #ccc;text-align:center;height:25px;" id="ratioID" only-digits ng-disabled="true" ng-disabled="item.ITEM_ID===18">
                                </td>
                                <td ng-show="item.show===true" style="text-align:center; width:auto;">
                                    <input type="text" tabindex="3" class="input-sm" name="comment" ng-model="items[$index].comment" style="font-size:13px;border:1px solid #ccc;height:25px;" id="commentID">
                                </td>
                                <td ng-show="item.show===true" ng-style="getStyleUpload()" style="text-align:center;">
                                    <!-- CUSTOM PROGRESS UPLOAD FILE -->
                                    <!-- INPUT FILE -->
                                        <a ng-click="clickShowFile(indexItem, item.ITEM_ID)">
                                        <i class="glyphicon glyphicon-paperclip"> 
                                        </i>
                                        </a>
                                        <div style='height: 0px;width: 0px; overflow:hidden;'>
                                        <input type="file" id="uploadTimesheet" nv-file-select uploader="uploader" multiple filters="limitFile,limitSize"/>
                                        </div>
                                    <!-- END INPUT FILE -->

                                     <!-- FOR ON LIST FILE -->
                                     <div ng-repeat="(indexItemFile, itemFile) in item.fileUpload">
                                        <!-- SHOW FILE THIS ITEM -->
                                        <div class="col-md-12" style="width:60px;height:20px;">
                                            <!-- SHOW FILE NAME -->
                                                <a href="/api/TimeSheet/get-download-file/{{itemFile.file_id}}" title="{{itemFile.file_name}}" target="_blank">
                                                <!-- WHEN FILE NAME TOO LONG -->
                                                <i class="glyphicon glyphicon-file" style="font-size:12px;"></i>
                                                </a>
                                   <!-- BUTTON DELETE FILE -->
                                        <a style="color:black;text-align:right;">
                                            <i class="glyphicon glyphicon-remove" ng-click="removeItem(indexItem,indexItemFile, itemFile.file_id)" style="margin-top:2px; font-size:12px;">
                                            </i>
                                        </a>
                                    <!-- END BUTTON DELETE FILE -->
                                    <!-- END FILE NAME MORMAL -->
                                    <!-- END SHOW FILE NAME -->
                                        </div>
                                    <!-- END SHOW -->
                                    </div>

                                <!-- PROGRESS BAR -->
                                <div class="col-md-12" ng-hide="progress===100 || progress ===undefined || progress===null || progress===''" style="margin-top:3px;" title="{{fileNameProgress}}">
                                            <div class="progress progress-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100">
                                                <div class="progress-bar progress-bar-success" ng-style="{width:progress+'%'}">
                                                    {{progress+ '%'}}
                                                </div>
                                            </div>
                                </div>
                                <!-- EN PROGRESS BAR -->

<!-- END FOR  -->
<!-- END CUSTOM PROGRESS UPLOAD FILE -->
</td>
<td ng-show="item.show===true" style="text-align:center;width:2%;">
    <a ng-click="deleteItem($index)">
        <i class="fa fa-trash pointer"></i>
    </a>
</td>
</tr>
<!-- temp row-->
<tr ng-show="isShow===true">
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td style="width:15px;">&nbsp;</td>
</tr>
<td colspan="6 ">
    <a class="btn btn-xs" style="color:#26a69a;font-size:13px;font-weight:bold;" ng-click="clickAdd()"><i class="glyphicon glyphicon-plus-sign" style="font-size:15px; color:#26a69a;"></i>&nbsp;Insert</a>
</td>
<!-- end temp row -->
</tbody>
</table>
<div class="col-md-12">
    <a class="btn yellow pull-right btn-xs" style="margin-right:-13px;width:70px;font-size:13px;" ng-click="onCancel({return: true})">Cancel</a>
    <button class="btn pull-right btn-xs green" style="margin-right:5px;width:70px;font-size:13px;" ng-click="onSave({return: items,formValid:formItemCode, upload: uploader})">Save</button>
</div>
<!-- END ITEM BEEN SELECTED -->
<!-- TABLE ITEM-->
<center ng-show="list.loading"><i class="fa fa-spinner fa-spin fa-3x"></i>
</center> <span class="bold" style="margin-left:3px;font-size:13px;">List of Tasks / Items<span>
                     <a ng-click="reset()"><i class="fa fa-refresh"></i></a>
                    <table class="responsive table table-bordered" ng-show="!list.loading">
                <tbody>
                    <tr style="background-color:#67809f;height:32px;">
                        <td style="text-align:left; width:10%;">
                    <input type="text" class="input-sm" ng-disabled="true" style="text-align:center; font-size:13px; font-weight:bold;width:80px;" value="Tasks / Items">
                    </td>
                    <td style="text-align:left; width:auto;">
                        <input type="text" class="input-sm" style="border:1px solid #ccc; font-size:13px; height:20px;background-color:white;margin-top:3px;" placeholder="Description" ng-model="searchObjectMap.data['time_item_code.ITEM_NAME']" ng-change="loadList()" tabindex="2" id="itemNameID">
                    </td>
                    </tr>
                    <tr ng-repeat="l in list.result" ng-class-odd="'odd'" style="cursor: pointer; font-size:13px;" ng-dblclick="addItem(l.ITEM_ID, l.ITEM_NAME, l.ITEM_UNITS)">
                        <td style="font-size:13px;width:10%; text-align:center;">{{($index>8)?$index+1:"0"+($index+1)}}</td>
                        <td style="border:1px solid #ccc; text-align:left;font-size:13px; width: auto;" ng-if="(l.ITEM_NAME | readMore).check===true">
                            <div ng-if="l.status===false">
                                {{(l.ITEM_NAME | readMore).value}}<a ng-click="clickShow($index)">&nbsp;&nbsp;More...</a>
                            </div>
                            <div ng-if="l.status===true">
                                {{l.ITEM_NAME}}<a ng-click="clickShow($index)">&nbsp;Close</a>
                            </div>
                        </td>
                        <td style="border:1px solid #ccc; text-align:left;font-size:13px;" ng-if="(l.ITEM_NAME | readMore).check===false">
                            {{(l.ITEM_NAME | readMore).value}}
                        </td>
                    </tr>
                </tbody>
            </table>
            <footer class="table-footer " ng-show="list.result!==null || (list.result.length!==0 && list.result!==null)">
                <div class="row ">
                    <div class="col-ms-6 page-num-info ">
                        <span class="bold custom-timesheet">Total: {{list.count}}</span>
                    <span class="custom-timesheet">Show</span>
                    <select class="custom-timesheet" ng-model="searchObjectMap.limit " ng-change="loadList() " ng-options="itemRow.code as itemRow.code for itemRow in rows " style="font-size:13px; width:48px;height:18px;">
                    </select>
                    <span class="custom-timesheet">entries per page</span>
                </div>
                <div class="col-ms-6 text-right pagination-container ">
                    <span ng-show="count.loading "><i class="fa fa-spinner fa-spin fa-2x "></i></span>
                    <pagination boundary-links="true " total-items="list.count " ng-model="searchObjectMap.currentPage " class="pagination-sm " previous-text="&lsaquo; " next-text="&rsaquo; " first-text="&laquo; " last-text="&raquo; " items-per-page="searchObjectMap.limit " max-size="searchObjectMap.maxSize " ng-change="setPage() "></pagination>
                </div>
            </div>
            </footer>
            <!-- END TABLE ITEM -->
        </fieldset>
        <!-- END MAIN INFO -->
    </form>
</div>
