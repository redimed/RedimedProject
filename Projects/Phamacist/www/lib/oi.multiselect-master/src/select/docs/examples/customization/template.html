<div ng-controller="selectCustomizationController">
    <h2>Customization</h2>
    <div class="row">
        <div class="col-md-8">
            <oi-multiselect
                ng-options="item.name for item in shopArrFn($query) track by item.id"
                ng-model="bundle"
                multiple
                oi-multiselect-options="{
                    debounce: 200,
                    searchFilter: 'mySearchFilter',
                    dropdownFilter: 'myDropdownFilter',
                    listFilter: 'myListFilter',
                    saveLastQuery: 'mySaveLastQuery'
                }"
                placeholder="Select"
                ></oi-multiselect>
        </div>
    </div>
<div class="row">

<div class="col-md-8">
<div hljs>
ng-options="item.name for item in shopArrFn($query) track by item.id"
ng-model="bundle"
multiple
oi-multiselect-options="{
    debounce: 200,
    searchFilter: 'mySearchFilter',
    dropdownFilter: 'myDropdownFilter',
    listFilter: 'myListFilter'
    saveLastQuery: 'mySaveLastQuery'
}"
</div>
<div hljs>
.filter('mySearchFilter', ['$sce', function($sce) {
    return function(label) {

        var html = '<i>' + label + '</i>';

        return $sce.trustAsHtml(html);
    };
}])
</div>
<div hljs>
.filter('myDropdownFilter', ['$sce', function($sce) {
    return function(label, query, option) {

        var html = '<kbd>#' + option.id + '</kbd> ' + label;

        return $sce.trustAsHtml(html);
    };
}]);
</div>
<div hljs>
.filter('myListFilter', function() {
    return function (list, query, getLabel) {
        return list;
    }
});
</div>
<div hljs>
.factory('mySaveLastQuery', function() {
    return function(removedValue, lastQuery) {
        return removedValue.name;
    };
})
</div>
</div>
<pre class="col-md-4">
{{bundle}}
</pre>
</div>
</div>